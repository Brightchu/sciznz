div#list
	div#filter
		div.row
			div.key
				span.glyphicon.glyphicon-list
				span.type 领域：
			div.value
				label.btn.btn-sm.btn-default(ng-model="filterModel.domain" btn-radio="'全部'") 全部
				label.btn.btn-sm.btn-default(ng-repeat="(domain, _) in hierarchy" ng-model="filterModel.domain" btn-radio="'{{domain}}'") {{domain}}

		div.row
			div.key
				span.glyphicon.glyphicon-th
				span.type 性质：
			div.value
				label.btn.btn-sm.btn-default(ng-model="filterModel.feature" btn-radio="'全部'") 全部
				label.btn.btn-sm.btn-default(ng-repeat="(feature, _) in hierarchy | featureFilter:filterModel" ng-model="filterModel.feature" btn-radio="'{{feature}}'") {{feature}}
				label.btn.btn-sm.btn-default(ng-click="showMoreSubGroup = !showMoreSubGroup") 更多
					span.caret
	//
		div.row(ng-repeat="moreRow in moreSubGroup track by $index")
			div.key
			div.value
				label.btn.btn-sm.btn-default(ng-repeat="subgroup in moreRow" ng-model="filterModel.subgroup" btn-radio="'{{subgroup.name}}'") {{subgroup.name}}

		div.row
			div.key
				span.glyphicon.glyphicon-th-large
				span.type 类别：
			div.value
				label.btn.btn-sm.btn-default(ng-model="filterModel.category" btn-radio="'全部'") 全部
				label.btn.btn-sm.btn-default(ng-repeat="category in groupList | categoryFilter:filterModel | moreCategoryFilter:this" ng-model="filterModel.category" btn-radio="'{{category}}'") {{category}}
				label.btn.btn-sm.btn-default(ng-click="showMoreCategory = !showMoreCategory") 更多
					span.caret

		div.row(ng-repeat="moreRow in moreCategory track by $index")
			div.key
			div.value
				label.btn.btn-sm.btn-default(ng-repeat="category in moreRow" ng-model="filterModel.category" btn-radio="'{{category}}'") {{category}}
		div.row
			div.key
				span.glyphicon.glyphicon-flag
				span.type 地点：
			div.value
				label.btn.btn-sm.btn-default(ng-model="filterModel.address" btn-radio="'全部'") 全部
				label.btn.btn-sm.btn-default(ng-repeat="address in addressList" ng-model="filterModel.address" btn-radio="'{{address}}'") {{address}}

		div.row(ng-repeat="(key, values) in groupList | fieldFilter:filterModel")
			div.key
				span.glyphicon.glyphicon-wrench
				span.type {{key}}：
			div.value
				label.btn.btn-sm.btn-default(ng-model="filterModel.field[key]" btn-radio="'全部'") 全部
				label.btn.btn-sm.btn-default(ng-repeat="(value, _) in values" ng-model="filterModel.field[key]" btn-radio="'{{value}}'") {{value}}
//
	div#content
		div.device(ng-repeat="device in deviceList | listFilter:filterModel")
			img.shot(src="/static/img/device.jpg")
			div.info
				p.row
					span.category {{device.category}}
					span.glyphicon.glyphicon-flag
					span.address {{device.address}}
					span.glyphicon.glyphicon-earphone
					span.institute {{device.institute}}
				div.split
				p.row
					span.glyphicon.glyphicon-tag
					span.model {{device.vendor}} - {{device.model}}
				p.row
					label.btn.btn-info.btn-xs(ng-repeat="(key, value) in device.field") {{key}} {{value}}
					label.btn.btn-default.btn-xs(ng-click="isCollapsed = !isCollapsed") 更多信息
						span.caret
				div(collapse="isCollapsed") {{device.info}}
			div.action
				div.group
					label.btn.btn-default.btn-block.price {{device.price}}元 / {{device.unit}}
					a(href="#/device/{{device.ID}}")
						label.btn.btn-success.btn-block.booking 立即预约
